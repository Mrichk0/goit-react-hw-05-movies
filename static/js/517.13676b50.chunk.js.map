{"version":3,"file":"static/js/517.13676b50.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/MovieItems/movieItems.module.css?01f2","components/MovieItems/MovieItems.jsx","pages/MovieDetailsPage/MovieDetailsPage.jsx","shared/api/films.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movie\":\"movieItems_movie__QrRNf\",\"moviePage\":\"movieItems_moviePage__RtPdG\",\"info\":\"movieItems_info__Vs7FW\",\"movieBtn\":\"movieItems_movieBtn__GChXg\",\"genres\":\"movieItems_genres__6mDzb\"};","import { Link, Outlet } from 'react-router-dom';\nimport PropTypes from 'prop-types';\n\nimport styles from './movieItems.module.css';\n\nconst MovieItems = ({\n  data: { poster_path, title, vote_average, overview },\n  id,\n  goBack,\n  from,\n  genres,\n}) => {\n  return (\n    <>\n      <>\n        <div className={styles.movie}>\n          <button onClick={goBack}>go back</button>\n          <div className={styles.moviePage}>\n            <div>\n              <img\n                className={styles.poster}\n                src={`http://image.tmdb.org/t/p/w400/${poster_path}`}\n                alt={title}\n              />\n            </div>\n            <div className={styles.info}>\n              <h1>{title}</h1>\n              <p> User score: {vote_average * 10}%</p>\n              <h2>Overview</h2>\n              <p>{overview}</p>\n              <h2>Genres</h2>\n              <div className={styles.genres}>{genres}</div>\n            </div>\n            <div />\n          </div>\n        </div>\n        <Link\n          className={styles.movieBtn}\n          to={`/movies/${id}/cast`}\n          state={{ from }}\n        >\n          Cast\n        </Link>\n        <Link\n          className={styles.movieBtn}\n          to={`/movies/${id}/reviews`}\n          state={{ from }}\n        >\n          Reviews\n        </Link>\n        <Outlet />\n      </>\n    </>\n  );\n};\n\nexport default MovieItems;\n\nMovieItems.propTypes = {\n  data: PropTypes.shape({\n    original_name: PropTypes.string,\n    original_title: PropTypes.string,\n    vote_average: PropTypes.number,\n    poster_path: PropTypes.string,\n    id: PropTypes.number.isRequired,\n  }),\n  goBack: PropTypes.func.isRequired,\n};\n","import { useState, useEffect } from 'react';\n\nimport { useParams, useNavigate, useLocation } from 'react-router-dom';\n\nimport { getMovieById } from '../../shared/api/films';\nimport MovieItems from 'components/MovieItems';\n\nconst MovieDetailsPage = () => {\n  const [state, setState] = useState({\n    response: {},\n    loading: false,\n    error: null,\n  });\n  const location = useLocation();\n\n  const navigate = useNavigate();\n  const { id } = useParams();\n  const from = location?.state?.from || '/';\n\n  const goBack = () => {\n    navigate(from);\n  };\n\n  useEffect(() => {\n    const fetchMovie = async id => {\n      try {\n        setState(prevState => ({ ...prevState, loading: true }));\n        const response = await getMovieById(id);\n\n        setState(prevState => ({ ...prevState, response, loading: false }));\n      } catch (error) {\n        setState(prevState => ({\n          ...prevState,\n          error: error.message,\n          loading: false,\n        }));\n      }\n    };\n    fetchMovie(id);\n  }, [setState, id]);\n\n  const { response, loading, error } = state;\n  const isData = Boolean(Object.values(response).length);\n\n  console.log('RES', response);\n  const { data } = response;\n\n  const genres = data?.genres.map(({ id, name }) => {\n    return (\n      <div key={id}>\n        <p style={{ marginRight: '15px ' }}>{name}</p>\n      </div>\n    );\n  });\n\n  return (\n    <>\n      {loading && <p>...Loading</p>}\n      {error && <p>{error}</p>}\n      {isData && (\n        <MovieItems\n          goBack={goBack}\n          data={data}\n          id={id}\n          from={from}\n          genres={genres}\n        />\n      )}\n    </>\n  );\n};\nexport default MovieDetailsPage;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'bca34bbfc009d7fec4acd7837db1b38e',\n  },\n});\n\nexport const trendingMovie = async () => {\n  const { data } = await instance.get('trending/movie/day');\n  return data;\n};\n\nexport const getMovieById = async id => {\n  const data = await instance.get(`/movie/${id}`);\n\n  return data;\n};\n\nexport const searchMovie = async query => {\n  const { data } = await instance.get('/search/movie', {\n    params: {\n      query,\n    },\n  });\n\n  return data;\n};\n\nexport const getMovieCredits = async id => {\n  const { data } = await instance.get(`/movie/${id}/credits`);\n  return data;\n};\n\nexport const getMovieReview = async id => {\n  const { data } = await instance.get(`/movie/${id}/reviews`);\n  return data;\n};\n"],"names":["data","poster_path","title","vote_average","overview","id","goBack","from","genres","className","styles","onClick","src","alt","to","state","useState","response","loading","error","setState","location","useLocation","navigate","useNavigate","useParams","useEffect","fetchMovie","prevState","getMovieById","message","isData","Boolean","Object","values","length","console","log","map","name","style","marginRight","instance","axios","baseURL","params","api_key","trendingMovie","get","searchMovie","query","getMovieCredits","getMovieReview"],"sourceRoot":""}